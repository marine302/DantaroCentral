# 🚀 Phase 7.1: 프로덕션 API 키 설정 가이드

## 📋 설정 단계별 가이드

### 1단계: API 키 발급 (5-30분)

**권장 순서**:
1. **OKX** (글로벌, 영어) - 가장 쉬움
2. **Coinone** (한국어) - 한국 거래소 중 가장 간단
3. **Gate.io** (글로벌, 영어) - 추가 거래소

#### 🌍 OKX 시작하기 (권장 1순위)
```bash
1. https://www.okx.com/ 접속
2. 계정 생성 (이메일 + 휴대폰 인증)
3. KYC 완료 (신분증 + 셀카)
4. API Management → Create V5 API Key
5. 권한: "Reading" 만 체크 ✅ (Trading ❌)
6. API Key, Secret Key, Passphrase 저장
```

#### 🇰🇷 Coinone 시작하기 (권장 2순위)
```bash
1. https://coinone.co.kr/ 접속  
2. 계정 생성 + 본인인증
3. 마이페이지 → API 관리
4. API 키 생성 → "조회" 만 체크 ✅
5. Access Token, Secret Key 저장
```

### 2단계: API 키 설정 (2분)

프로덕션 API 키 설정 도구를 실행하세요:

```bash
cd /Users/danielkwon/DantaroCentral/backend
python setup_production_keys.py
```

**설정 과정**:
1. `.env` 파일 자동 생성
2. 거래소 선택 (1-7)
3. API 키 입력
4. 자동 저장 및 검증

### 3단계: 연결 테스트 (1분)

API 키가 정상적으로 작동하는지 테스트:

```bash
python test_production_apis.py
```

**기대 결과**:
```
🧪 2개 거래소 API 연결 테스트 시작...
============================================================
✅ OKX      | $   106,774.40 | 응답시간: 0.85초
✅ COINONE  | $ 138,500,000 | 응답시간: 1.23초
============================================================
📈 성공: 2/2 거래소

🎉 프로덕션 API 연결 성공!
```

### 4단계: 실제 데이터 수집 시작 (즉시)

Analysis Worker를 실제 데이터로 실행:

```bash
python analysis_worker.py
```

**기대 결과**:
```
🔄 Analysis Worker 시작됨 (PID: 12345)
📊 실제 거래소 데이터 수집 중...
📈 BTC-USDT: $106,774.40 (OKX)
📈 ETH-USDT: $2,459.69 (OKX)
✅ 2개 거래소에서 4개 암호화폐 데이터 수집 완료
```

## 🔐 보안 체크리스트

### ✅ 필수 보안 설정
- [ ] API 키 권한: **읽기 전용만** 활성화
- [ ] 거래 권한: **완전히 비활성화**
- [ ] 출금 권한: **완전히 비활성화**
- [ ] `.env` 파일이 `.gitignore`에 포함되어 있음

### ⚠️ 주의사항
- **절대로 거래/출금 권한을 주지 마세요**
- **API 키를 다른 사람과 공유하지 마세요**
- **GitHub/Git에 API 키를 커밋하지 마세요**

## 🚨 문제 해결

### 1. "API 키 인증 실패" 오류
```bash
# API 키 재확인
python setup_production_keys.py

# 권한 설정 확인 (거래소 웹사이트에서)
# Reading/조회 권한만 활성화되어 있는지 확인
```

### 2. "Rate Limit" 오류
```bash
# 잠시 대기 후 재시도 (1-2분)
# API 호출 간격이 너무 짧을 때 발생
```

### 3. "Network" 오류
```bash
# 인터넷 연결 확인
# VPN 사용 시 VPN 해제 후 재시도
```

## 📊 지원 거래소 현황

| 거래소 | 지역 | 난이도 | 추천도 | 비고 |
|--------|------|--------|--------|------|
| **OKX** | 글로벌 | ⭐⭐ | 🔥🔥🔥 | 1순위 추천 |
| **Coinone** | 한국 | ⭐⭐ | 🔥🔥🔥 | 한국 거래소 |
| **Gate.io** | 글로벌 | ⭐⭐⭐ | 🔥🔥 | 추가 거래소 |
| **Upbit** | 한국 | ⭐⭐ | 🔥🔥 | 업비트 |
| **Binance** | 글로벌 | ⭐⭐⭐ | 🔥🔥 | 바이낸스 |
| **Bithumb** | 한국 | ⭐⭐⭐ | 🔥 | 빗썸 |
| **Bybit** | 글로벌 | ⭐⭐⭐ | 🔥 | 바이비트 |

## 🎯 다음 단계 (Phase 7.2)

API 키 설정이 완료되면:

1. **WebSocket 실시간 데이터 수집** 구현
2. **데이터 품질 모니터링** 강화  
3. **Rate Limiting** 최적화
4. **백업 거래소 시스템** 구축

**현재 상태**: ✅ 실제 거래소 데이터 수집 준비 완료!

---

💡 **빠른 시작**: OKX 또는 Coinone 중 하나만 설정해도 즉시 실제 데이터 수집을 시작할 수 있습니다!
